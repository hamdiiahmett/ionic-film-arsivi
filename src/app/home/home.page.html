<ion-header class="ion-no-border">
  <ion-toolbar class="header-gradient">
    <ion-title slot="start" class="app-title">
      Filmlerim
    </ion-title>
    
    <div slot="end" class="user-profile">
      <span class="user-name">Merhaba, {{ kullaniciAd }}</span>
      <ion-button (click)="cikis()" color="light" fill="clear" size="small">
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content class="bg-content">

  <ion-list *ngIf="filmler.length > 0" class="movie-list">
    <ion-item-sliding *ngFor="let film of filmler" class="slide-item">
      
      <ion-item lines="none" button (click)="duzenle(film)" class="transparent-item">
        <div class="movie-card">
          
          <div class="card-icon">
            <ion-icon name="videocam" color="light"></ion-icon>
          </div>

          <div class="card-info">
            <h2 class="movie-title">{{ film.ad }}</h2>
            <p class="movie-genre">{{ film.tur }} • {{ film.yil }}</p>
            
            <div class="star-rating">
              <ion-icon 
                *ngFor="let i of [1,2,3,4,5]" 
                [name]="(film.puan || 0) >= i ? 'star' : 'star-outline'" 
                class="star-icon">
              </ion-icon>
            </div>
          </div>

          <div class="card-actions">
            <ion-button fill="clear" size="small" (click)="durumDegistir(film, 'izlenecek'); $event.stopPropagation()">
              <ion-icon [name]="film.izlenecek ? 'bookmark' : 'bookmark-outline'" 
                        [color]="film.izlenecek ? 'secondary' : 'medium'"></ion-icon>
            </ion-button>
            
            <ion-button fill="clear" size="small" (click)="durumDegistir(film, 'favori'); $event.stopPropagation()">
              <ion-icon [name]="film.favori ? 'heart' : 'heart-outline'" 
                        [color]="film.favori ? 'danger' : 'medium'"></ion-icon>
            </ion-button>
          </div>
        </div>
      </ion-item>

      <ion-item-options side="end">
        <ion-item-option class="delete-option" (click)="sil(film)">
          <ion-icon slot="top" name="trash-outline"></ion-icon>
          Sil
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <div *ngIf="filmler.length === 0" class="empty-state">
    <div class="empty-icon-circle">
      <ion-icon name="film-outline"></ion-icon>
    </div>
    <h3>Listeniz Boş</h3>
    <p>Hemen sağ alttaki butona basıp ilk filminizi ekleyin!</p>
  </div>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="ekleModalAc()" class="add-btn">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>